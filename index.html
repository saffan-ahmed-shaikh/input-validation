<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="fontawesome/css/all.min.css">
    <style>
        * {
            margin: 0;
            box-sizing: border-box;
        }

        body {
            background: radial-gradient(circle, rgba(238, 174, 202, 1) 0%, rgba(148, 187, 233, 1) 100%);
        }

        .container-fluid {
            background: radial-gradient(circle, rgba(238, 174, 202, 1) 0%, rgba(148, 187, 233, 1) 100%);
            padding: 30px;
            height: 100%;
        }

        main {
            border: 1px solid #000;
            width: 50%;
            background-color: #fff;
            margin: 0 auto;
        }

        form {
            padding: 25px;
            position: relative;
        }

        .input input {
            width: 100%;
            height: 30px;
        }

        input {
            margin-bottom: 5px;
        }

        label {
            margin-right: 5px;
            margin: 15px 0 5px 0;
            display: inline-block;
        }

        .forblock {
            width: 100%;
        }

        form p {
            color: #e12f2f;
            font-size: 15px;
        }

        .tt {
            font-size: 20px;
            padding: 10px 70px;
            margin: 20px 0px;
            border: 1px solid;
            border-radius: 10px;
            background-color: yellow;
            width: 100%;
            cursor: pointer;
        }

        .right {
            border: 1px solid #000;
            width: 50%;
            background-color: #fff;
            margin: 0 auto;
            display: none;
        }

        .right p {
            padding: 10px 20px;
            display: flex;
            align-items: center;
            font-size: 20px;
            word-wrap: break-word;
        }

        .right span {
            display: inline-block;
            padding-left: 10px;
            font-size: 20px;
            font-weight: 600;
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
        }

        .genderView {
            color: yellow;
        }

        .genderView.male {
            color: blue;
        }

        .genderView.female {
            color: pink;
        }

        .icons i {
            font-size: 25px;
            display: none;
        }

        .icons i:first-child {
            color: blue;
        }

        .icons i:last-child {
            color: pink;
        }

        .icons i:nth-child(2) {
            color: yellow;
        }

        ::-webkit-inner-spin-button {
            display: none;
        }

        .star {
            color: red;
        }

        #visible,
        #visible1 {
            display: inline-block;
            width: auto;
            vertical-align: middle;
        }

        ::-webkit-input-placeholder {
            padding-left: 5px;
        }

        @media(max-width: 850px) {

            main,
            .right {
                width: 100%;
            }
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <main id="none">
            <form onsubmit="return result(event)">
                <h1 class="text-center">Validation Form</h1>
                <div class="input"> <label for="fname">First Name<span class="star">*</span></label>
                    <input type="text" placeholder="John" id="fname" maxlength="15">
                    <p id="errorforfname"></p>
                </div>
                <div class="input"> <label for="mname">Middle Name<span class="star">*</span></label>
                    <input type="text" placeholder="Doe" id="mname" maxlength="15">
                    <p id="errorformname"></p>
                </div>
                <div class="input"> <label for="lname" class="forlname">Last Name<span class="star">*</span></label>
                    <input type="text" placeholder="Roy" id="lname" maxlength="15">
                    <p id="errorforlname"></p>
                </div>
                <div class="input"> <label for="number">Mobile Number<span class="star">*</span></label>
                    <input type="text" placeholder="Enter your Mobile Number" id="num" maxlength="10"
                        oninput="this.value = this.value.replace(/[^0-9]/g, '').replace(/(\..*)\./g, '$1');">
                    <p id="errorfornumber"></p>
                </div>
                <div class="input"> <label for="email">Email<span class="star">*</span></label>
                    <input type="email" placeholder="example@gmail.com" id="email">
                    <p id="errorforemail"></p>
                </div>
                <div class="gender">
                    <h2>Gender<span class="star">*</span>:-</h2>
                    <input type="radio" value="male" id="male" name="gender" checked>
                    <label for="male">Male</label>
                    <input type="radio" value="female" id="female" name="gender">
                    <label for="female">Female</label>
                    <input type="radio" id="other" value="other" name="gender">
                    <label for="other">Others</label>
                </div>

                <div class="input"> <label for="dob" class="forblock">Date of Birth<span class="star">*</span></label>
                    <input type="date" placeholder="Date Of Birth" id="dob">
                    <p id="errorfordob"></p>
                </div>
                <div class="input"> <label for="website">Website<span class="star">*</span></label>
                    <input type="url" placeholder="www.example.com" id="website">
                    <p id="errorforwebsite"></p>
                </div>
                <div class="input"><label for="password">Password<span class="star">*</span></label>
                    <input type="password" placeholder="Min 8 Characters Max 15 Characters" id="password">
                    <input type="checkbox" onclick="myFunction()" id="visible"> <label for="visible"> Show
                        Password</label>
                    <p id="errorforpassword"></p>
                </div>
                <div class="input"> <label for="confirmpassword">Confirm Password<span class="star">*</span></label>
                    <input type="password" placeholder="Same As Above" id="confirmpassword">
                    <input type="checkbox" onclick="myFunction2()" id="visible1"> <label for="visible1"> Show
                        Password</label>
                    <p id="errorforconfirmpassword"></p>
                </div>
                <div class="terms">
                    <input type="checkbox" id="termsandcondition" name="tac" value="tac">
                    <label for="termsandcondition"> Terms & Condition <span class="star">*</span> </label>
                    <p id="errorfortac"></p>
                </div>
                <div class="button">
                    <button type="submit" class="btn-lg tt"> SUBMIT</button>
                </div>
            </form>
        </main>
        <div class="right" id="block">
            <h1 class="text-center">Result</h1>
            <p>Name: <span id="fullnameresult" class="text-capitalize"></span> </p>
            <p>Number: <span id="numberresult"></span></p>
            <p>Email: <span id="emailresult"></span></p>
            <p>Gender: <span class="icons"><i class="fas fa-mars" id="maleicon"></i><i class="fas fa-transgender"
                        id="othericon"></i>
                    <i class="fas fa-venus" id="femaleicon"></i></span> <span class="genderView text-capitalize"
                    id="genderresult">
                </span></p>
            <p>Date of Birth: <span id="dobresult"></span></p>
            <p>Website: <span id="websiteresult"></span></p>
            <p>Password: <span id="passwordresult"></span></p>
            <p>Terms & Conditions:<span id="resultfortac"></span></p>
        </div>
    </div>
    <script>
        function result(event) {
            event.preventDefault();
            var valuefromfname = document.getElementById("fname").value;
            var valuefrommname = document.getElementById("mname").value;
            var valuefromlastname = document.getElementById("lname").value;
            var genderInputs = document.getElementsByName("gender");
            var valuefromfname = document.getElementById("fname").value;
            var valuefrommname = document.getElementById("mname").value;
            var valuefromlastname = document.getElementById("lname").value;
            var valuefromnumber = document.getElementById("num").value;
            var valuefromemail = document.getElementById("email").value;
            var valuefromdob = document.getElementById("dob").value;
            var valuefromwebsite = document.getElementById("website").value;
            var valuefrompassword = document.getElementById("password").value;
            var valuefromconfirmpassword = document.getElementById("confirmpassword").value;
            var tac = document.querySelector('input[name="tac"]:checked')
            var pattern = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
            var name_regex = /^[a-zA-Z ]{2,30}$/;
            var urlpattern =
                /(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g;
            var today = new Date();
            var birthDate = new Date(valuefromdob);
            var age = today.getFullYear() - birthDate.getFullYear();
            var m = today.getMonth() - birthDate.getMonth();

            let gender = "";
            for (let i = 0; i < genderInputs.length; i++) {
                const element = genderInputs[i];
                if (element.id == "male") {
                    if (element.checked) {
                        gender = "male";
                    }
                } else if (element.id == "female") {
                    if (element.checked) {
                        gender = "female";
                    }
                } else {
                    if (element.checked) {
                        gender = "others";
                    }
                }
            }
            if (valuefromfname && valuefrommname && valuefromlastname && valuefromwebsite && valuefromdob &&
                valuefromemail && valuefromnumber &&
                valuefrompassword && valuefromconfirmpassword && tac) {
                let ifAllInputsHaveValidated = true;
                if (name_regex.test(valuefromfname)) {
                    document.getElementById("errorforfname").innerHTML = "";
                } else {
                    document.getElementById("errorforfname").innerHTML = "Enter Valid First Name";
                    ifAllInputsHaveValidated = false;
                }
                if (name_regex.test(valuefrommname)) {
                    document.getElementById("errorformname").innerHTML = "";
                } else {
                    document.getElementById("errorformname").innerHTML = "Enter Valid Middle Name";
                    ifAllInputsHaveValidated = false;
                }
                if (name_regex.test(valuefromlastname)) {
                    document.getElementById("errorforlname").innerHTML = "";
                } else {
                    document.getElementById("errorforlname").innerHTML = "Enter Valid Last Name";
                    ifAllInputsHaveValidated = false;
                }
                if (age >= 18) {
                    document.getElementById("errorfordob").innerHTML = "";
                } else {
                    document.getElementById("errorfordob").innerHTML = "Above 18 Compulsory"
                    ifAllInputsHaveValidated = false;
                }
                if (valuefromnumber.length == 10) {
                    document.getElementById("errorfornumber").innerHTML = "";
                } else {
                    document.getElementById("errorfornumber").innerHTML = "Enter Valid Number";
                    ifAllInputsHaveValidated = false;
                }
                if (pattern.test(valuefromemail)) {
                    document.getElementById("errorforemail").innerHTML = "";
                } else {
                    document.getElementById("errorforemail").innerHTML = "Enter Valid Email";
                    ifAllInputsHaveValidated = false;
                }
                if (urlpattern.test(valuefromwebsite)) {
                    document.getElementById("errorforwebsite").innerHTML = "";
                } else {
                    document.getElementById("errorforwebsite").innerHTML = "Enter Valid Website Url";
                    ifAllInputsHaveValidated = false;
                }
                if (valuefrompassword.length >= 8 && valuefrompassword.length <= 15) {
                    document.getElementById("errorforpassword").innerHTML = "";
                } else {
                    document.getElementById("errorforpassword").innerHTML =
                        "Password length must greater than 8 digits and smaller than 15 digits";
                    ifAllInputsHaveValidated = false;
                }
                if (valuefromconfirmpassword == valuefrompassword) {
                    document.getElementById("errorforconfirmpassword").innerHTML = "";
                } else {
                    document.getElementById("errorforconfirmpassword").innerHTML = "Password do not Match";
                    ifAllInputsHaveValidated = false;
                }
                if (tac) {
                    document.getElementById("errorfortac").innerHTML = "";
                } else {
                    ifAllInputsHaveValidated = false;
                }
                if (ifAllInputsHaveValidated) {
                    let send_data = {
                        "firstName": valuefromfname,
                        "middleName": valuefrommname,
                        "lastName": valuefromlastname,
                        "gender": gender,
                        "email": valuefromemail,
                        "number": valuefromnumber,
                        "website": valuefromwebsite,
                        "dob": valuefromdob,
                        "password": valuefrompassword,
                        "confirmpassword": valuefromconfirmpassword,
                        "tac": tac
                    };
                    showMyViewContainer(send_data);
                }
            } else {
                if (!valuefromfname) {
                    document.getElementById("errorforfname").innerHTML = "First Name is Required!";
                }
                if (!valuefrommname) {
                    document.getElementById("errorformname").innerHTML = "Middle Name is Required!";
                }
                if (!valuefromlastname) {
                    document.getElementById("errorforlname").innerHTML = "Last Name is Required!";
                }
                if (!valuefromnumber) {
                    document.getElementById("errorfornumber").innerHTML = "Number is Required!";
                }
                if (!valuefromemail) {
                    document.getElementById("errorforemail").innerHTML = "Email is Required!";
                }
                if (!valuefromdob) {
                    document.getElementById("errorfordob").innerHTML = "DOB is Required!";
                }
                if (!valuefromwebsite) {
                    document.getElementById("errorforwebsite").innerHTML = "Website URL is Required!";
                }
                if (!valuefrompassword) {
                    document.getElementById("errorforpassword").innerHTML = "Password is Required!";
                }
                if (!valuefromconfirmpassword) {
                    document.getElementById("errorforconfirmpassword").innerHTML = "Confirm Password is Required!";
                }
                if (!tac) {
                    document.getElementById("errorfortac").innerHTML = "Please select the above checkbox";
                }
            }
        }

        function myFunction() {
            var x = document.getElementById("password");
            if (x.type === "password") {
                x.type = "text";
            } else {
                x.type = "password";
            }
        }

        function myFunction2() {
            var y = document.getElementById("confirmpassword");
            if (y.type === "password") {
                y.type = "text";
            } else {
                y.type = "password";
            }
        }

        function showMyViewContainer(get_data) {
            var pass = "";
            var passlength = get_data.password;
            for (let i = 0; i < passlength.length; i++) {
                pass += "*";

            }
            if (get_data.gender == "male") {
                document.getElementById("maleicon").style.display = "block";
            }
            if (get_data.gender == "female") {
                document.getElementById("femaleicon").style.display = "block";
            }
            if (get_data.gender == "others") {
                document.getElementById("othericon").style.display = "block";
            }
            document.getElementById("none").style.display = "none";
            document.getElementById("block").style.display = "block";
            document.getElementById("fullnameresult").innerHTML = get_data.firstName + " " + get_data.middleName + " " +
                get_data.lastName;
            document.getElementById("genderresult").innerHTML = get_data.gender;
            document.getElementById("genderresult").classList.add(get_data.gender);
            document.getElementById("emailresult").innerHTML = get_data.email;
            document.getElementById("numberresult").innerHTML = get_data.number;
            document.getElementById("websiteresult").innerHTML = get_data.website;
            document.getElementById("passwordresult").innerHTML = pass;
            document.getElementById("dobresult").innerHTML = get_data.dob;
            if (get_data.tac) {
                document.getElementById("resultfortac").innerHTML = "Agreed";
            }
        }
    </script>
</body>

</html>